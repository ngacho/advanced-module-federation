<!-- <div class="entity-size">
  <p>Todos : {{numTodos$ | async}}</p>
  <p>Are mfe todos loaded?  {{mfeTodosLoad$ | async}}</p>
</div> -->

<table class="table">
  <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Description</th>
      <th scope="col">Operations</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let todo of todos$ | async">
      <td>{{ todo.title }}</td>
      <td>{{ todo.description }}</td>
      <td>
        <button
          (click)="showUpdateTaskForm(todo)"
          class="btn btn-primary"
          style="margin: 5px; background-color: rgb(18, 155, 109)"
        >
          Update
        </button>
        <button
          (click)="deleteTask(todo.id)"
          class="btn btn-danger"
          style="margin: 5px"
        >
          Delete
        </button>
      </td>
    </tr>
  </tbody>
</table>

<!-- <div>
  <input
    (click)="addRandomTask()"
    name="Add Random Task"
    class="btn btn-primary"
    type="submit"
  />
</div> -->

<div
  *ngIf="isUpdating"
  class="update-task"
  style="margin-top: 50px; margin-left: 50px"
>
  <form
    (ngSubmit)="updateTask(updatedTaskDetailForm)"
    #updatedTaskDetailForm="ngForm"
  >
    <label for="title">Task Title</label>
    <input
      type="text"
      id="title"
      name="name"
      placeholder="Please name your task"
      [(ngModel)]="toDoToBeUpdated.title"
      class="form-control"
      ngModel
      required
    />

    <label for="description">Description</label>
    <input
      type="text"
      id="description"
      name="description"
      class="form-control"
      [(ngModel)]="toDoToBeUpdated.description"
      placeholder="Please describe your task"
      ngModel
      required
    />

    <div class="operation-buttons">
      <input
        [disabled]="updatedTaskDetailForm.invalid"
        class="btn btn-primary"
        type="submit"
      />

      <input
        class="btn btn-primary"
        id="cancel"
        (click)="hideUpdateTaskForm()"
        type="submit"
        value="Cancel"
      />
    </div>
  </form>
</div>
